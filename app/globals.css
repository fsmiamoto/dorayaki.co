@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --color-bg: #0a0a0a;
  --color-surface: #171717;
  --color-surface-muted: #262626;
  --color-border: #404040;
  --color-text: #e5e5e5;
  --color-text-muted: #a3a3a3;
  --color-text-soft: #d4d4d4;
  --color-text-faint: #525252;
  --color-accent: #4ade80;
  --color-accent-strong: #22c55e;
  --color-amber: #fbbf24;
  --color-danger: #ef4444;
  --color-info: #38bdf8;
  --color-purple: #c084fc;
  --color-success: #4ade80;
  --color-shadow: rgba(0, 0, 0, 0.5);
  --color-surface-elevated: #171717;
  --color-surface-soft: #262626;
  --color-border-subtle: #404040;
  --font-sans: 'Inter', 'SF Pro Text', 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', SFMono-Regular, 'SF Mono', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
  color-scheme: dark;
}

[data-theme='light'] {
  --color-bg: #ffffff;
  --color-surface: #f4f4f5;
  --color-surface-muted: #e4e4e7;
  --color-border: #d4d4d8;
  --color-text: #18181b;
  --color-text-muted: #71717a;
  --color-text-soft: #52525b;
  --color-text-faint: #a1a1aa;
  --color-accent: #16a34a;
  --color-accent-strong: #15803d;
  --color-amber: #d97706;
  --color-danger: #dc2626;
  --color-info: #0284c7;
  --color-purple: #9333ea;
  --color-success: #16a34a;
  --color-shadow: rgba(0, 0, 0, 0.1);
  --color-surface-elevated: #ffffff;
  --color-surface-soft: #f4f4f5;
  --color-border-subtle: #e4e4e7;
  color-scheme: light;
}

@layer base {
  html {
    font-family: var(--font-mono), 'JetBrains Mono', 'Fira Code', Consolas, monospace;
    text-rendering: optimizeLegibility;
  }

  body {
    @apply bg-app-bg text-app-foreground font-mono antialiased;
    line-height: 1.75;
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply text-app-foreground font-semibold tracking-tight;
  }

  p {
    @apply text-app-soft;
  }

  a {
    @apply text-app-accent transition-colors;
  }

  a:hover {
    @apply text-app-foreground;
  }

  strong {
    @apply text-app-foreground font-semibold;
  }

  code {
    font-family: var(--font-mono), 'JetBrains Mono', 'Fira Code', Consolas, monospace;
  }

  /* Terminal scrollbar styling */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-app-surface-muted;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-app-border rounded;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-app-accent;
  }
}

@layer components {
  .prose-terminal {
    @apply prose max-w-none;
  }

  html[data-theme='dark'] .prose-terminal {
    --tw-prose-body: var(--color-text-soft);
    --tw-prose-headings: var(--color-text);
    --tw-prose-links: var(--color-accent);
    --tw-prose-bold: var(--color-text);
    --tw-prose-counters: var(--color-text-muted);
    --tw-prose-bullets: var(--color-text-muted);
    --tw-prose-hr: var(--color-border);
    --tw-prose-quotes: var(--color-text-soft);
    --tw-prose-quote-borders: var(--color-border);
    --tw-prose-code: var(--color-accent-strong);
    --tw-prose-pre-bg: var(--color-surface-muted);
    --tw-prose-th-borders: var(--color-border);
    --tw-prose-td-borders: var(--color-border);
  }

  html[data-theme='light'] .prose-terminal {
    --tw-prose-body: var(--color-text);
    --tw-prose-headings: var(--color-text);
    --tw-prose-links: var(--color-accent);
    --tw-prose-bold: var(--color-text);
    --tw-prose-counters: var(--color-text-faint);
    --tw-prose-bullets: var(--color-text-faint);
    --tw-prose-hr: var(--color-border);
    --tw-prose-quotes: var(--color-text-soft);
    --tw-prose-quote-borders: var(--color-border);
    --tw-prose-code: var(--color-accent-strong);
    --tw-prose-pre-bg: var(--color-surface-muted);
    --tw-prose-th-borders: var(--color-border);
    --tw-prose-td-borders: var(--color-border);
  }

  .terminal-window {
    @apply relative overflow-hidden rounded-lg border border-app-border-subtle bg-app-surface-elevated text-app-soft shadow-2xl transition-colors duration-300;
  }

  .terminal-title-bar {
    @apply flex items-center gap-4 border-b border-app-border-subtle bg-app-surface-muted px-4 py-3 text-xs text-app-muted;
  }

  .terminal-button {
    @apply h-3 w-3 rounded-full transition-opacity hover:opacity-80;
  }

  .terminal-button-red {
    @apply bg-red-500;
  }

  .terminal-button-amber {
    @apply bg-yellow-500;
  }

  .terminal-button-green {
    @apply bg-green-500;
  }

  .terminal-content {
    /* Padding handled inline for responsiveness */
  }

  .cursor {
    @apply inline-block h-5 w-2 rounded-sm bg-app-accent opacity-80 align-middle animate-blink;
  }

  .prompt {
    @apply font-semibold text-app-accent;
  }

  .command {
    @apply text-app-foreground;
  }

  .ascii-art {
    @apply text-app-accent font-bold drop-shadow-sm;
    font-family: 'Courier New', monospace;
  }

  /* Link Utilities - Standardized terminal-style links */

  .link-nav {
    @apply text-app-accent transition-colors duration-150;
    @apply hover:text-app-accent-strong;
    @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-app-accent;
  }

  .link-nav-underline {
    @apply text-app-accent transition-all duration-150;
    @apply underline decoration-transparent decoration-2 underline-offset-4;
    @apply hover:text-app-accent-strong hover:decoration-app-accent-strong;
    @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-app-accent;
  }

  .link-content {
    @apply text-app-foreground transition-colors duration-150;
    @apply hover:text-app-accent;
    @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-app-accent;
  }

  .link-muted {
    @apply text-app-muted transition-colors duration-150;
    @apply hover:text-app-accent hover:underline;
    @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-app-accent;
  }

  .link-pill {
    @apply inline-flex items-center gap-2 rounded-full border border-transparent px-4 py-2;
    @apply transition-all duration-150;
    @apply hover:border-current;
    @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-app-accent;
  }
}
